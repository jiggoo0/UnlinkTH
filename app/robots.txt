import { MetadataRoute } from 'next';
import { siteConfig } from '@/constants/site-config';

/**
 * Robots Configuration:
 * จัดการการเข้าถึงของ Search Engine Crawler ให้สอดคล้องกับนโยบายความเป็นส่วนตัว
 * และโครงสร้างของเว็บไซต์ UNLINK
 */
export default function robots(): MetadataRoute.Robots {
  const baseUrl = siteConfig.url || 'https://www.unlink-th.com';

  return {
    rules: [
      {
        // 01: Allow all standard search engines
        userAgent: '*',
        allow: '/',
        disallow: [
          '/api/',        // ปิดกั้นการเข้าถึง Route ภายใน
          '/_next/',       // ปิดกั้นไฟล์ระบบของ Next.js
          '/admin/',       // ปิดกั้นหน้าจัดการ (ถ้ามีในอนาคต)
          '/private/',     // ปิดกั้นหน้าที่มีข้อมูลละเอียดอ่อน
          '/*.json$',      // ไม่ให้ Index ไฟล์ JSON
        ],
      },
      {
        // 02: ปิดกั้น AI Crawlers เพื่อรักษาความเป็นส่วนตัวสูงสุด (Optional)
        userAgent: ['GPTBot', 'CCBot', 'Google-Extended'],
        disallow: '/',
      },
    ],
    // ระบุตำแหน่ง Sitemap เพื่อให้ Google ดึงข้อมูลได้อย่างแม่นยำ
    sitemap: `${baseUrl}/sitemap.xml`,
  };
}
